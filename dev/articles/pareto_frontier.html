<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Trade-offs between travel time and monetary cost • r5r</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Trade-offs between travel time and monetary cost">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">r5r</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.1.099999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/r5r.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/accessibility.html">Accessibility</a></li>
    <li><a class="dropdown-item" href="../articles/detailed_itineraries.html">Trip planning with detailed_itineraries()</a></li>
    <li><a class="dropdown-item" href="../articles/faq.html">FAQ - Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/fare_structure.html">Accounting for monetary costs</a></li>
    <li><a class="dropdown-item" href="../articles/isochrones.html">Isochrones</a></li>
    <li><a class="dropdown-item" href="../articles/pareto_frontier.html">Trade-offs between travel time and monetary cost</a></li>
    <li><a class="dropdown-item" href="../articles/time_window.html">Using the time_window parameter</a></li>
    <li><a class="dropdown-item" href="../articles/travel_time_matrix.html">Travel time matrices</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ipeaGIT/r5r/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Trade-offs between travel time and monetary cost</h1>
            
            <h4 data-toc-skip class="date">2025-05-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ipeaGIT/r5r/tree/master/r-package/vignettes/pareto_frontier.Rmd" class="external-link"><code>vignettes/pareto_frontier.Rmd</code></a></small>
      <div class="d-none name"><code>pareto_frontier.Rmd</code></div>
    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      This vignette shows how to use the <code><a href="../reference/pareto_frontier.html">pareto_frontier()</a></code>
      function to examine the trade-offs between travel time and
      monetary cost in travel time matrices in r5r.
    </div>
    
<div class="section level2">
<h2 id="introduction">1. Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In most cases, transport routing models find either the fastest or
the lowest-cost routes that connect places in a given transport network.
Sometimes, though, we might want a more sophisticated analysis that
considers both the time and monetary costs that public transport
passengers have to face. The problem here is that simultaneously
accounting for both time and monetary costs is a major challenge for
routing models because of the trade-offs between the objectives of
minimizing trip duration and cost <span class="citation">(Conway and
Stewart 2019)</span>.</p>
<p>To address this problem, <code>r5r</code> has a function called
<code><a href="../reference/pareto_frontier.html">pareto_frontier()</a></code>, which calculates the most efficient
route possibilities between origin destination pairs considering
multiple combinations of travel time and monetary costs. This vignette
uses a reproducible example to demonstrate how to use
<code><a href="../reference/pareto_frontier.html">pareto_frontier()</a></code> and interpret its results.</p>
<div class="section level3">
<h3 id="what-the-pareto_frontier-means-">2. What the <code>pareto_frontier</code> means.<a class="anchor" aria-label="anchor" href="#what-the-pareto_frontier-means-"></a>
</h3>
<p>Imagine a hypothetical journey from A to B. There are multiple route
alternatives between this origin and destination with varying
combinations of travel time and cost (figure below).</p>
<ul>
<li>Walking from A to B would be the <strong>cheapest</strong> option
but it would take 50 minutes.</li>
<li>The <strong>fastest</strong> option would be to take a bus to a
subway station and transfer to the subway. This option would only take
15 minutes, but it would cost $8.</li>
<li>There are some intermediary alternatives, such as taking:
<ul>
<li>a single bus, $3 for 35 min.</li>
<li>two buses with one transfer, $5 for 29 min.</li>
<li>taking the subway after walking to the station , $6 for 20 min.</li>
</ul>
</li>
</ul>
<p>This figure illustrates the Pareto frontier of alternative routes
from A to B. In other words, it shows the most optimal set of route
alternatives between A and B. There are certainly other route options,
but there is no other option that is both faster and cheaper at the same
time.</p>
<p><img src="pareto_frontier_files/figure-html/unnamed-chunk-2-1.png" width="100%"></p>
<p><br></p>
<p>This kind of abstraction allows us to have a better grasp of the
trade-offs between travel time and monetary cost passengers face when
using public transport. It also allows us to calculate
cumulative-opportunity accessibility metrics with cutoffs for both time
and cost (e.g. the number of jobs reachable from a given origin with
limits of 40 minutes and $5) (ref paper by Matt and Anson).</p>
<p>Let’s see a couple concrete examples showing how <code>r5r</code> can
calculate the Pareto frontier for multiple origins.</p>
</div>
<div class="section level3">
<h3 id="demonstration-of-pareto_frontier-">3. Demonstration of <code>pareto_frontier()</code>.<a class="anchor" aria-label="anchor" href="#demonstration-of-pareto_frontier-"></a>
</h3>
<div class="section level4">
<h4 id="build-routable-transport-network-with-setup_r5">3.1 Build routable transport network with
<code>setup_r5()</code><a class="anchor" aria-label="anchor" href="#build-routable-transport-network-with-setup_r5"></a>
</h4>
<p>First, let’s build the network and create the routing inputs. In this
example we’ll be using the a sample data set for the city of Porto
Alegre (Brazil) included in <code>r5r</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># increase Java memory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>java.parameters <span class="op">=</span> <span class="st">"-Xmx2G"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ipeaGIT/r5r" class="external-link">r5r</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># build a routable transport network with r5r</span></span>
<span><span class="va">data_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/poa"</span>, package <span class="op">=</span> <span class="st">"r5r"</span><span class="op">)</span></span>
<span><span class="va">r5r_core</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setup_r5.html">setup_r5</a></span><span class="op">(</span><span class="va">data_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># routing inputs</span></span>
<span><span class="va">mode</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'walk'</span>, <span class="st">'transit'</span><span class="op">)</span></span>
<span><span class="va">max_trip_duration</span> <span class="op">&lt;-</span> <span class="fl">90</span> <span class="co"># minutes</span></span>
<span></span>
<span><span class="co"># load origin/destination points of interest</span></span>
<span><span class="va">points</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">data_path</span>, <span class="st">"poa_points_of_interest.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="set-up-the-fare-structure">3.2 Set up the fare structure<a class="anchor" aria-label="anchor" href="#set-up-the-fare-structure"></a>
</h4>
<p>Now we need to set what are the fare rules of our public transport
system. These rules will be used by <code>R5</code> to calculate the
monetary cost of alternative routes. In the case of Porto Alegre, the
fare rules are as follows: * Each bus ticket costs R$ 4.80. * Riding a
second bus adds <code>$</code> 2.40 to the total cost. Subsequent bus
rides cost the full ticket price of $ 4.80. * Each train ticket costs $
4.50. Once a passenger enters a train station, she can take an unlimited
amount of train trips as long as she doesn’t leave a station. * The
integrated fare between bus and train has a 10% discount, which totals $
8.37.</p>
<p>We can create <code>list</code> object with these fare rules with the
support of the <code><a href="../reference/setup_fare_structure.html">setup_fare_structure()</a></code> function as shown in
the code below. A detailed explanation of how to use the fare structure
of <code>5r5</code> can be found in <a href="https://ipeagit.github.io/r5r/articles/fare_structure.html">(this
other vignette)</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create basic fare structure</span></span>
<span><span class="va">fare_structure</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setup_fare_structure.html">setup_fare_structure</a></span><span class="op">(</span><span class="va">r5r_core</span>, </span>
<span>                                       base_fare <span class="op">=</span> <span class="fl">4.8</span>,</span>
<span>                                       by <span class="op">=</span> <span class="st">"MODE"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># update the cost of bus and train fares</span></span>
<span><span class="va">fare_structure</span><span class="op">$</span><span class="va">fares_per_type</span><span class="op">[</span>, <span class="va">fare</span> <span class="op">:=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"BUS"</span>, <span class="fl">4.80</span>,</span>
<span>                                             <span class="va">type</span> <span class="op">==</span> <span class="st">"RAIL"</span>, <span class="fl">4.50</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># update the cost of tranfers</span></span>
<span><span class="va">fare_structure</span><span class="op">$</span><span class="va">fares_per_transfer</span><span class="op">[</span>, <span class="va">fare</span> <span class="op">:=</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fcase.html" class="external-link">fcase</a></span><span class="op">(</span><span class="va">first_leg</span> <span class="op">==</span> <span class="st">"BUS"</span> <span class="op">&amp;</span> <span class="va">second_leg</span> <span class="op">==</span> <span class="st">"BUS"</span>, <span class="fl">7.2</span>,</span>
<span>                                                 <span class="va">first_leg</span> <span class="op">!=</span> <span class="va">second_leg</span>, <span class="fl">8.37</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># update transfer_time_allowance to 60 minutes</span></span>
<span><span class="va">fare_structure</span><span class="op">$</span><span class="va">transfer_time_allowance</span> <span class="op">&lt;-</span> <span class="fl">60</span></span>
<span></span>
<span><span class="va">fare_structure</span><span class="op">$</span><span class="va">fares_per_type</span><span class="op">[</span><span class="va">type</span> <span class="op">==</span> <span class="st">"RAIL"</span>, <span class="va">unlimited_transfers</span> <span class="op">:=</span> <span class="cn">TRUE</span><span class="op">]</span></span>
<span><span class="va">fare_structure</span><span class="op">$</span><span class="va">fares_per_type</span><span class="op">[</span><span class="va">type</span> <span class="op">==</span> <span class="st">"RAIL"</span>, <span class="va">allow_same_route_transfer</span> <span class="op">:=</span> <span class="cn">TRUE</span><span class="op">]</span></span></code></pre></div>
<p>For convenience, we can save these fare rules as a <code>zip</code>
file and load again for a future application.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># save fare rules to temp file</span></span>
<span><span class="va">temp_fares</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"fares_poa"</span>, fileext <span class="op">=</span> <span class="st">".zip"</span><span class="op">)</span></span>
<span><span class="fu">r5r</span><span class="fu">::</span><span class="fu"><a href="../reference/write_fare_structure.html">write_fare_structure</a></span><span class="op">(</span><span class="va">fare_structure</span>, file_path <span class="op">=</span> <span class="va">temp_fares</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">fare_structure</span> <span class="op">&lt;-</span> <span class="fu">r5r</span><span class="fu">::</span><span class="fu"><a href="../reference/read_fare_structure.html">read_fare_structure</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">data_path</span>, <span class="st">"fares/fares_poa.zip"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="calculating-a-pareto_frontier-">3.3 Calculating a <code>pareto_frontier()</code>.<a class="anchor" aria-label="anchor" href="#calculating-a-pareto_frontier-"></a>
</h4>
<p>In this example, we calculate the Pareto frontier from all origins to
all destinations considering multiple cutoffs of monetary costs: - $1,
which would only allow for walking trips - $4.5, which would only allow
for rail trips - $4.8, which would allow for a single bus trip - $7.20,
which would allow for bus + bus - $8.37, which would allow for walking
walking + bus + rail</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">departure_datetime</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"13-05-2019 14:00:00"</span>, </span>
<span>                                 format <span class="op">=</span> <span class="st">"%d-%m-%Y %H:%M:%S"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">prtf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pareto_frontier.html">pareto_frontier</a></span><span class="op">(</span><span class="va">r5r_core</span>,</span>
<span>                      origins <span class="op">=</span> <span class="va">points</span>,</span>
<span>                      destinations <span class="op">=</span> <span class="va">points</span>,</span>
<span>                      mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WALK"</span>, <span class="st">"TRANSIT"</span><span class="op">)</span>,</span>
<span>                      departure_datetime <span class="op">=</span> <span class="va">departure_datetime</span>,</span>
<span>                      fare_structure <span class="op">=</span> <span class="va">fare_structure</span>,</span>
<span>                      fare_cutoffs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4.5</span>, <span class="fl">4.8</span>, <span class="fl">7.20</span>, <span class="fl">8.37</span><span class="op">)</span>,</span>
<span>                      progress <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>                      <span class="op">)</span></span>
<span><span class="co">#&gt; Loading required namespace: testthat</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">prtf</span><span class="op">)</span></span>
<span><span class="co">#&gt;          from_id               to_id percentile travel_time monetary_cost</span></span>
<span><span class="co">#&gt;           &lt;char&gt;              &lt;char&gt;      &lt;int&gt;       &lt;int&gt;         &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1: public_market       public_market         50           0           1.0</span></span>
<span><span class="co">#&gt; 2: public_market bus_central_station         50          23           1.0</span></span>
<span><span class="co">#&gt; 3: public_market bus_central_station         50          19           4.5</span></span>
<span><span class="co">#&gt; 4: public_market bus_central_station         50          14           4.8</span></span>
<span><span class="co">#&gt; 5: public_market    gasometer_museum         50          29           1.0</span></span>
<span><span class="co">#&gt; 6: public_market    gasometer_museum         50          13           4.8</span></span></code></pre></div>
<p>For the sake of illustration, let’s check the optimum route
alternatives from the Farrapos train station to (a) the Praia de Belas
shopping mall and (b) the Moinhos hospital. An optimum route alternative
means that one cannot make a faster trip without increasing costs, and
one cannot make a cheaper trip without increasing travel time.</p>
<pre><code><span><span class="co">#&gt; Warning in `[.data.table`(pf2, , `:=`(modes, fcase(monetary_cost == 1, "Walk",</span></span>
<span><span class="co">#&gt; : A shallow copy of this data.table was taken so that := can add or remove 1</span></span>
<span><span class="co">#&gt; columns by reference. At an earlier point, this data.table was copied by R (or</span></span>
<span><span class="co">#&gt; was created manually using structure() or similar). Avoid names&lt;- and attr&lt;-</span></span>
<span><span class="co">#&gt; which in R currently (and oddly) may copy the whole data.table. Use set* syntax</span></span>
<span><span class="co">#&gt; instead to avoid copying: ?set, ?setnames and ?setattr. It's also not unusual</span></span>
<span><span class="co">#&gt; for data.table-agnostic packages to produce tables affected by this issue. If</span></span>
<span><span class="co">#&gt; this message doesn't help, please report your use case to the data.table issue</span></span>
<span><span class="co">#&gt; tracker so the root cause can be fixed or this message improved.</span></span>
<span><span class="co">#&gt; Warning: A numeric `legend.position` argument in `theme()` was deprecated in ggplot2</span></span>
<span><span class="co">#&gt; 3.5.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use the `legend.position.inside` argument of `theme()` instead.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span>
<span><span class="co">#&gt; Warning: Removed 6 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_text()`).</span></span></code></pre>
<p><img src="pareto_frontier_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
</div>
<div class="section level4">
<h4 id="cleaning-up-after-usage">Cleaning up after usage<a class="anchor" aria-label="anchor" href="#cleaning-up-after-usage"></a>
</h4>
<p><code>r5r</code> objects are still allocated to any amount of memory
previously set after they are done with their calculations. In order to
remove an existing <code>r5r</code> object and reallocate the memory it
had been using, we use the <code>stop_r5</code> function followed by a
call to Java’s garbage collector, as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">r5r</span><span class="fu">::</span><span class="fu"><a href="../reference/stop_r5.html">stop_r5</a></span><span class="op">(</span><span class="va">r5r_core</span><span class="op">)</span></span>
<span><span class="fu">rJava</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rJava/man/jgc.html" class="external-link">.jgc</a></span><span class="op">(</span>R.gc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>If you have any suggestions or want to report an error, please visit
<a href="https://github.com/ipeaGIT/r5r" class="external-link">the package GitHub
page</a>.</p>
</div>
</div>
<div class="section level3">
<h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-conway2019getting" class="csl-entry">
Conway, Matthew Wigginton, and Anson F. Stewart. 2019. <span>“Getting
Charlie Off the MTA: A Multiobjective Optimization Method to Account for
Cost Constraints in Public Transit Accessibility Metrics.”</span>
<em>International Journal of Geographical Information Science</em> 33
(9): 1759–87. <a href="https://doi.org/10.1080/13658816.2019.1605075" class="external-link">https://doi.org/10.1080/13658816.2019.1605075</a>.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcus Saraiva, Rafael H. M. Pereira, Daniel Herszenhut, Carlos Kaue Vieira Braga, Matthew Wigginton Bhagat-Conway, Ipea - Institute for Applied Economic Research.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
