<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Rapid Realistic Routing with R5 • r5r</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Rapid Realistic Routing with R5">
<meta name="description" content="Rapid realistic routing on multimodal transport networks (walk, bike, public transport and car) using R5, the Rapid Realistic Routing on Real-world and Reimagined networks engine &lt;https://github.com/conveyal/r5&gt;. The package allows users to generate detailed routing analysis or calculate travel time and monetary cost matrices using seamless parallel computing on top of the R5 Java machine. While R5 is developed by Conveyal, the package r5r is independently developed by a team at the Institute for Applied Economic Research (Ipea) with contributions from collaborators. Apart from the documentation in this package, users will find additional information on R5 documentation at &lt;https://docs.conveyal.com/&gt;. Although we try to keep new releases of r5r in synchrony with R5, the development of R5 follows Conveyal's independent update process. Hence, users should confirm the R5 version implied by the Conveyal user manual (see &lt;https://docs.conveyal.com/changelog&gt;) corresponds with the R5 version that r5r depends on. This version of r5r depends on R5 v7.1.">
<meta property="og:description" content="Rapid realistic routing on multimodal transport networks (walk, bike, public transport and car) using R5, the Rapid Realistic Routing on Real-world and Reimagined networks engine &lt;https://github.com/conveyal/r5&gt;. The package allows users to generate detailed routing analysis or calculate travel time and monetary cost matrices using seamless parallel computing on top of the R5 Java machine. While R5 is developed by Conveyal, the package r5r is independently developed by a team at the Institute for Applied Economic Research (Ipea) with contributions from collaborators. Apart from the documentation in this package, users will find additional information on R5 documentation at &lt;https://docs.conveyal.com/&gt;. Although we try to keep new releases of r5r in synchrony with R5, the development of R5 follows Conveyal's independent update process. Hence, users should confirm the R5 version implied by the Conveyal user manual (see &lt;https://docs.conveyal.com/changelog&gt;) corresponds with the R5 version that r5r depends on. This version of r5r depends on R5 v7.1.">
<meta property="og:image" content="https://ipeagit.github.io/r5r/logo.png">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">r5r</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.2.099999</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/r5r.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/accessibility.html">Accessibility</a></li>
    <li><a class="dropdown-item" href="articles/detailed_itineraries.html">Trip planning with detailed_itineraries()</a></li>
    <li><a class="dropdown-item" href="articles/faq.html">FAQ - Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="articles/fare_structure.html">Accounting for monetary costs</a></li>
    <li><a class="dropdown-item" href="articles/isochrones.html">Isochrones</a></li>
    <li><a class="dropdown-item" href="articles/pareto_frontier.html">Trade-offs between travel time and monetary cost</a></li>
    <li><a class="dropdown-item" href="articles/time_window.html">Using the time_window parameter</a></li>
    <li><a class="dropdown-item" href="articles/travel_time_matrix.html">Travel time matrices</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ipeaGIT/r5r/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="r5r-rapid-realistic-routing-with-r5-in-r-">r5r: Rapid Realistic Routing with R5 in R <img align="right" src="reference/figures/r5r_blue.png" alt="logo" width="180"><a class="anchor" aria-label="anchor" href="#r5r-rapid-realistic-routing-with-r5-in-r-"></a>
</h1>
</div>
<p><a href="https://CRAN.R-project.org/package=r5r" class="external-link"><img src="https://www.r-pkg.org/badges/version/r5r" alt="CRAN/METACRAN Version"></a> <a href="https://CRAN.R-project.org/package=r5r" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/r5r?color=blue" alt="CRAN/METACRAN Total downloads"></a> <a href="https://github.com/ipeaGIT/r5r/actions" class="external-link"><img src="https://github.com/ipeaGIT/r5r/workflows/R-CMD-check/badge.svg" alt="R build status"></a> <a href="https://app.codecov.io/gh/ipeaGIT/r5r?branch=master" class="external-link"><img src="https://codecov.io/gh/ipeaGIT/r5r/branch/master/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://lifecycle.r-lib.org/articles/figures/lifecycle-stable.svg" alt="Lifecycle: maturing"></a> <a href="https://doi.org/10.32866/001c.21262" class="external-link"><img src="https://img.shields.io/badge/DOI-10.32866%2F001c.21262-yellow" alt="Publication"></a></p>
<p><strong>r5r</strong> is an <code>R</code> package for rapid realistic routing on multimodal transport networks (walk, bike, public transport and car). It provides a simple and friendly interface to R<sup>5</sup>, the <a href="https://github.com/conveyal/r5" class="external-link">Rapid Realistic Routing on Real-world and Reimagined networks</a>, the routing engine developed independently by <a href="http://conveyal.com" class="external-link">Conveyal</a>.</p>
<p><strong>r5r</strong> is a simple way to run R<sup>5</sup> locally, allowing <code>R</code> users to generate detailed routing analysis or calculate travel time matrices and accessibility using seamless parallel computing. See a detailed demonstration of <code>r5r</code> in the <a href="https://ipeagit.github.io/r5r/articles/r5r.html">intro Vignette</a>. More details about <strong>r5r</strong> can be found on the <a href="https://ipeagit.github.io/r5r/index.html">package webpage</a> or on this <a href="https://doi.org/10.32866/001c.21262" class="external-link">paper</a>. Over time, <code>r5r</code> might be expanded to incorporate other functionality from R<sup>5</sup>.</p>
<p>This repository contains the <code>R</code> code (r-package folder) and the Java code (java-api folder) that provides the interface to R<sup>5</sup>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install <code>r5r</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"r5r"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># dev version with latest features</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html" class="external-link">remove.packages</a></span><span class="op">(</span><span class="st">'r5r'</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ipeaGIT/r5r"</span>, subdir <span class="op">=</span> <span class="st">"r-package"</span><span class="op">)</span></span></code></pre></div>
<p>Please bear in mind that you need to have <em>Java Development Kit (JDK) 21</em> installed on your computer to use <code>r5r</code>. No worries, you don’t have to pay for it. There are numerous open-source JDK implementations, any of which should work with <code>r5r</code>. If you don’t already have a preferred JDK, we recommend <a href="https://adoptium.net/" class="external-link">Adoptium/Eclipse Temurin</a>. Other open-source JDK implementations include <a href="https://aws.amazon.com/corretto/" class="external-link">Amazon Corretto</a>, and <a href="https://jdk.java.net/21/" class="external-link">Oracle OpenJDK</a>. You only need to install one JDK.</p>
<p>The easiest way to install JDK is using the new <a href="https://www.ekotov.pro/rJavaEnv/" class="external-link">{rJavaEnv}</a> package in R:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages('rJavaEnv')</span></span>
<span></span>
<span><span class="co"># check version of Java currently installed (if any) </span></span>
<span><span class="fu">rJavaEnv</span><span class="fu">::</span><span class="fu"><a href="https://www.ekotov.pro/rJavaEnv/reference/java_check_version_rjava.html" class="external-link">java_check_version_rjava</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># install Java 21</span></span>
<span><span class="fu">rJavaEnv</span><span class="fu">::</span><span class="fu"><a href="https://www.ekotov.pro/rJavaEnv/reference/java_quick_install.html" class="external-link">java_quick_install</a></span><span class="op">(</span>version <span class="op">=</span> <span class="fl">21</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The package has seven <strong>fundamental functions</strong> :</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="reference/setup_r5.html">setup_r5()</a></code>
<ul>
<li>Downloads and stores locally an R5 Jar file (the Jar file is downloaded only once per installation)</li>
<li>Builds a multimodal transport network given (1) a OpenStreetMap street network in <code>.pbf</code> format (<em>mandatory</em>), (2) one or more public transport networks in <code>GTFS.zip</code> format (optional), and (3) elevation data in <code>raster.tif</code> (optional).</li>
</ul>
</li>
<li>
<code><a href="reference/accessibility.html">accessibility()</a></code>
<ul>
<li>Fast computation of access to opportunities. The function returns a <code>data.table</code> with accessibility estimates for all origin points by transport mode given a selected decay function. Multiple decay functions are available, including step (cumulative opportunities), logistic, fixed exponential and linear.</li>
</ul>
</li>
<li>
<code><a href="reference/travel_time_matrix.html">travel_time_matrix()</a></code>
<ul>
<li>Fast function that returns a simple <code>data.table</code> with travel time estimates between one or multiple origin destination pairs considering departure time.</li>
</ul>
</li>
<li>
<code><a href="reference/arrival_travel_time_matrix.html">arrival_travel_time_matrix()</a></code>
<ul>
<li>Calculates travel time matrices between origin destination pairs considering a time of arrival. The output includes additional information such as the routes used and total time disaggregated by access, waiting, in-vehicle and transfer times.</li>
</ul>
</li>
<li>
<code><a href="reference/expanded_travel_time_matrix.html">expanded_travel_time_matrix()</a></code>
<ul>
<li>Calculates travel time matrices between origin destination pairs with additional information such as routes used and total time disaggregated by access, waiting, in-vehicle and transfer times.</li>
</ul>
</li>
<li>
<code><a href="reference/detailed_itineraries.html">detailed_itineraries()</a></code>
<ul>
<li>Returns a <code>data.frame sf LINESTRINGs</code> with one or multiple alternative routes between one or multiple origin destination pairs. The data output brings detailed information on transport mode, travel time, walk distance etc for each trip segment.</li>
</ul>
</li>
<li>
<code><a href="reference/pareto_frontier.html">pareto_frontier()</a></code>
<ul>
<li>Returns a <code>data.table</code> with the travel time and monetary cost of multiple route alternatives for specified origin-destination pairs.</li>
</ul>
</li>
<li>
<code><a href="reference/isochrone.html">isochrone()</a></code>
<ul>
<li>Returns a <code>A ⁠POLYGON  "sf" "data.frame"</code> showing the area that can be reached from an origin point at a given travel time limit.</li>
</ul>
</li>
</ol>
<p><small><a href="https://ipeagit.github.io/r5r/reference/index.html">See more details about each function here</a></small></p>
<p>obs. Most of these functions also allow users to account for monetary travel costs when generating travel time matrices and accessibility estimates. More info on how to consider monetary costs can be found in <a href="https://ipeagit.github.io/r5r/articles/fare_structure.html">this vignette</a>.</p>
<p>The package also includes a few <strong>support functions</strong>.</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="reference/street_network_to_sf.html">street_network_to_sf()</a></code>
<ul>
<li>Extract OpenStreetMap network in sf format from a <code>network.dat</code> file.</li>
</ul>
</li>
<li>
<code><a href="reference/transit_network_to_sf.html">transit_network_to_sf()</a></code>
<ul>
<li>Extract transit network in sf format from a <code>network.dat</code> file.</li>
</ul>
</li>
<li>
<code><a href="reference/find_snap.html">find_snap()</a></code>
<ul>
<li>Find snapped locations of input points on street network.</li>
</ul>
</li>
<li>
<code><a href="reference/r5r_sitrep.html">r5r_sitrep()</a></code>
<ul>
<li>Generate a situation report to help debug eventual errors.</li>
</ul>
</li>
</ol>
<div class="section level3">
<h3 id="data-requirements">Data requirements:<a class="anchor" aria-label="anchor" href="#data-requirements"></a>
</h3>
<p>To use <code>r5r</code>, you will need: - A road network data set from OpenStreetMap in <code>.pbf</code> format (<em>mandatory</em>) - A public transport feed in <code>GTFS.zip</code> format (optional) - A raster file of Digital Elevation Model data in <code>.tif</code> format (optional)</p>
<p>Here are a few places from where you can download these data sets:</p>
<ul>
<li>OpenStreetMap
<ul>
<li>
<a href="https://docs.ropensci.org/osmextract/" class="external-link">osmextract</a> R package</li>
<li>
<a href="https://download.geofabrik.de/" class="external-link">geofabrik</a> website</li>
<li>
<a href="https://export.hotosm.org/" class="external-link">hot export tool</a> website</li>
<li>
<a href="https://extract.bbbike.org/" class="external-link">BBBike.org</a> website</li>
<li>
<a href="https://protomaps.com/downloads/osm" class="external-link">Protomaps</a> website</li>
</ul>
</li>
<li>GTFS
<ul>
<li>
<a href="https://r-transit.github.io/tidytransit/" class="external-link">tidytransit</a> R package</li>
<li>
<a href="https://www.transit.land/" class="external-link">transitland</a> website</li>
<li>
<a href="https://database.mobilitydata.org/" class="external-link">Mobility Database</a> website</li>
</ul>
</li>
<li>Elevation
<ul>
<li>
<a href="https://github.com/jhollist/elevatr" class="external-link">elevatr</a> R package</li>
<li>
<a href="https://lpdaac.usgs.gov/products/srtmgl1v003/" class="external-link">Nasa’s SRTMGL1</a> website</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="demonstration-on-sample-data">Demonstration on sample data<a class="anchor" aria-label="anchor" href="#demonstration-on-sample-data"></a>
</h3>
<p>See a detailed demonstration of <code>r5r</code> in this <a href="https://ipeagit.github.io/r5r/articles/r5r.html">intro Vignette</a>. To illustrate functionality, the package includes a small sample data set of the public transport and Open Street Map networks of Porto Alegre (Brazil). Three steps are required to use <code>r5r</code>, as follows.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># allocate RAM memory to Java **before** loading the {r5r} library</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>java.parameters <span class="op">=</span> <span class="st">"-Xmx2G"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ipeaGIT/r5r" class="external-link">r5r</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1) build transport network, pointing to the path where OSM and GTFS data are stored</span></span>
<span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/poa"</span>, package <span class="op">=</span> <span class="st">"r5r"</span><span class="op">)</span></span>
<span><span class="va">r5r_core</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/setup_r5.html">setup_r5</a></span><span class="op">(</span>data_path <span class="op">=</span> <span class="va">path</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2) load origin/destination points and set arguments</span></span>
<span><span class="va">points</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/poa/poa_hexgrid.csv"</span>, package <span class="op">=</span> <span class="st">"r5r"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mode</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WALK"</span>, <span class="st">"TRANSIT"</span><span class="op">)</span></span>
<span><span class="va">max_walk_time</span> <span class="op">&lt;-</span> <span class="fl">30</span>   <span class="co"># minutes</span></span>
<span><span class="va">max_trip_duration</span> <span class="op">&lt;-</span> <span class="fl">60</span> <span class="co"># minutes</span></span>
<span><span class="va">departure_datetime</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"13-05-2019 14:00:00"</span>,</span>
<span>                                 format <span class="op">=</span> <span class="st">"%d-%m-%Y %H:%M:%S"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3.1) calculate a travel time matrix</span></span>
<span><span class="va">ttm</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/travel_time_matrix.html">travel_time_matrix</a></span><span class="op">(</span>r5r_core <span class="op">=</span> <span class="va">r5r_core</span>,</span>
<span>                          origins <span class="op">=</span> <span class="va">points</span>,</span>
<span>                          destinations <span class="op">=</span> <span class="va">points</span>,</span>
<span>                          mode <span class="op">=</span> <span class="va">mode</span>,</span>
<span>                          departure_datetime <span class="op">=</span> <span class="va">departure_datetime</span>,</span>
<span>                          max_walk_time <span class="op">=</span> <span class="va">max_walk_time</span>,</span>
<span>                          max_trip_duration <span class="op">=</span> <span class="va">max_trip_duration</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3.2) or get detailed info on multiple alternative routes</span></span>
<span><span class="va">det</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/detailed_itineraries.html">detailed_itineraries</a></span><span class="op">(</span>r5r_core <span class="op">=</span> <span class="va">r5r_core</span>,</span>
<span>                            origins <span class="op">=</span> <span class="va">points</span><span class="op">[</span><span class="fl">370</span>, <span class="op">]</span>,</span>
<span>                            destinations <span class="op">=</span> <span class="va">points</span><span class="op">[</span><span class="fl">200</span>, <span class="op">]</span>,</span>
<span>                            mode <span class="op">=</span> <span class="va">mode</span>,</span>
<span>                            departure_datetime <span class="op">=</span> <span class="va">departure_datetime</span>,</span>
<span>                            max_walk_time <span class="op">=</span> <span class="va">max_walk_time</span>,</span>
<span>                            max_trip_duration <span class="op">=</span> <span class="va">max_trip_duration</span>,</span>
<span>                            shortest_path <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                            drop_geometry <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4) Calculate number of schools accessible within 20 minutes </span></span>
<span><span class="va">access</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/accessibility.html">accessibility</a></span><span class="op">(</span>r5r_core <span class="op">=</span> <span class="va">r5r_core</span>,</span>
<span>                        origins <span class="op">=</span> <span class="va">points</span>,</span>
<span>                        destinations <span class="op">=</span> <span class="va">points</span>,</span>
<span>                        opportunities_colname <span class="op">=</span> <span class="st">"schools"</span>,</span>
<span>                        decay_function <span class="op">=</span> <span class="st">"step"</span>,</span>
<span>                        cutoffs <span class="op">=</span> <span class="fl">21</span>,</span>
<span>                        mode <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WALK"</span>, <span class="st">"TRANSIT"</span><span class="op">)</span>,</span>
<span>                        verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="related-packages">
<strong>Related packages</strong><a class="anchor" aria-label="anchor" href="#related-packages"></a>
</h4>
<p>There is a growing number of <code>R</code> packages with functionalities for transport routing, analysis and planning more broadly. Here are few of theses packages.</p>
<ul>
<li>
<a href="https://github.com/ATFutures/dodgr" class="external-link">dodgr</a>: Distances on Directed Graphs in R</li>
<li>
<a href="https://github.com/ATFutures/gtfs-router" class="external-link">gtfsrouter</a>: R package for routing with GTFS data</li>
<li>
<a href="https://github.com/munterfinger/hereR" class="external-link">hereR</a>: an R interface to the HERE REST APIs</li>
<li>
<a href="https://github.com/ropensci/opentripplanner" class="external-link">opentripplanner</a>: OpenTripPlanner for R</li>
<li>
<a href="https://github.com/ropensci/stplanr" class="external-link">stplanr</a>: sustainable transport planning with R</li>
</ul>
<p>The <strong>r5r</strong> package is particularly focused on fast multimodal transport routing and accessibility. A key advantage of <code>r5r</code> is that is provides a simple and friendly R interface to R<sup>5</sup>, one of the fastest and most robust routing engines available.</p>
<p>For <strong><em>Python</em></strong> users, you might want to check our sister package: <a href="https://r5py.readthedocs.io/en/stable/" class="external-link"><strong>r5py</strong></a>!</p>
<hr>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="acknowledgement">Acknowledgement<a class="anchor" aria-label="anchor" href="#acknowledgement"></a>
</h1>
<p>The <a href="https://github.com/conveyal/r5" class="external-link">R<sup>5</sup> routing engine</a> is developed at <a href="https://www.conveyal.com/" class="external-link">Conveyal</a> with contributions from several people.</p>
</div>
<div class="section level1">
<h1 id="citation-">Citation <a class="anchor" aria-label="anchor" href="#citation-"></a>
</h1>
<p>The R package <strong>r5r</strong> is developed by a team at the Institute for Applied Economic Research (Ipea), Brazil. If you use this package in research publications, we please cite it as:</p>
<ul>
<li>Pereira, R. H. M., Saraiva, M., Herszenhut, D., Braga, C. K. V., &amp; Conway, M. W. (2021). <strong>r5r: Rapid Realistic Routing on Multimodal Transport Networks with R5 in R</strong>. <em>Findings</em>, 21262. <a href="https://doi.org/10.32866/001c.21262" class="external-link">https://doi.org/10.32866/001c.21262</a>
</li>
</ul>
<p>BibTeX:</p>
<pre><code>@article{pereira_r5r_2021,
    title = {r5r: Rapid Realistic Routing on Multimodal Transport Networks with {R}$^{\textrm{5}}$ in R},
    shorttitle = {r5r},
    url = {https://findingspress.org/article/21262-r5r-rapid-realistic-routing-on-multimodal-transport-networks-with-r-5-in-r},
    doi = {10.32866/001c.21262},
    language = {en},
    urldate = {2021-03-04},
    journal = {Findings},
    author = {Pereira, Rafael H. M. and Saraiva, Marcus and Herszenhut, Daniel and Braga, Carlos Kaue Vieira and Conway, Matthew Wigginton},
    month = mar,
    year = {2021},
    note = {Publisher: Network Design Lab}
}</code></pre>
<p>Please also cite the relevant publications relating to the R⁵ engine on which <em>r5r</em> builds up:</p>
<ul>
<li>Conway, M. W., Byrd, A., &amp; van der Linden, M. (2017): <strong>Evidence-Based Transit and Land Use Sketch Planning Using Interactive Accessibility Methods on Combined Schedule and Headway-Based Networks</strong>. <em>Transportation Research Record</em>, 2653(1), 45–53. <a href="https://doi.org/10.3141/2653-06" class="external-link">DOI:10.3141/2653-06</a>
</li>
<li>Conway, M. W., Byrd, A., &amp; Van Eggermond, M. (2018): <strong>Accounting for uncertainty and variation in accessibility metrics for public transport sketch planning</strong>. <em>Journal of Transport and Land Use</em>, 11(1). <a href="https://doi.org/10.5198/jtlu.2018.1074" class="external-link">DOI:10.5198/jtlu.2018.1074</a>
</li>
<li>Conway, M. W. &amp; Stewart, A. F. (2019): <strong>Getting Charlie off the MTA: a multiobjective optimization method to account for cost constraints in public transit accessibility metrics</strong>. <em>International Journal of Geographical Information Science</em>, 33(9), 1759–1787. <a href="https://doi.org/10.1080/13658816.2019.1605075" class="external-link">DOI:10.1080/13658816.2019.1605075</a>
</li>
</ul>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=r5r" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ipeaGIT/r5r/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ipeaGIT/r5r/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing r5r</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Marcus Saraiva <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-6218-2338" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Rafael H. M. Pereira <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2125-7465" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Daniel Herszenhut <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8066-1105" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Carlos Kaue Vieira Braga <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6104-7297" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Matthew Wigginton Bhagat-Conway <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1210-2982" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Ipea - Institute for Applied Economic Research <br><small class="roles"> Copyright holder, funder </small>   </li>
<li>Department of Geography &amp; Planning, University of Toronto <br><small class="roles"> Funder </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcus Saraiva, Rafael H. M. Pereira, Daniel Herszenhut, Carlos Kaue Vieira Braga, Matthew Wigginton Bhagat-Conway, Ipea - Institute for Applied Economic Research, Department of Geography &amp; Planning, University of Toronto.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
